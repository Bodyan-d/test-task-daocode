{"version":3,"sources":["sourse/weather-API.js","components/location-cords/location-cords.js","components/content/content.js","components/search-form/search-form.js","cummon/bg-color.js","functions/bodyColor/bodyColor.js","App.js","index.js"],"names":["USER_KEY","weather","fetchWeatherByLocation","cords","fetch","latitude","longitude","then","res","ok","json","Promise","reject","Error","fetchWeatherByName","name","LocationCords","location","className","Content","weatherCity","status","error","console","dir","message","src","current","condition","icon","alt","text","temp_c","feelslike_c","wind_kph","lat","lon","SearchForm","useState","value","setValue","setWeatherCity","setStatus","setError","onSubmit","e","preventDefault","catch","onChange","target","type","id","placeholder","colors","cold","warm","hot","intColorToHex","int","bbggrr","toString","slice","substr","hexColorToInt","rrggbb","parseInt","App","setLocation","weatherByLocatiion","setWeatherByLocatiion","success","pos","coords","localStorage","setItem","JSON","stringify","err","warn","code","useEffect","navigator","geolocation","getCurrentPosition","document","body","style","backgroundColor","temp","colorNow","Number","log","bodyColor","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ffb63087.chunk.js","sourcesContent":["const USER_KEY = '0a673b566c674ddcb7d195141211510';\r\n\r\nfunction fetchWeatherByLocation(cords) {\r\n\treturn fetch(\r\n\t\t`https://api.weatherapi.com/v1/current.json?key=${USER_KEY} &q=${`${cords.latitude},${cords.longitude}`}`\r\n\t).then(res => {\r\n\t\tif (res.ok) {\r\n\t\t\treturn res.json();\r\n\t\t}\r\n\t\treturn Promise.reject(new Error('Location not found'));\r\n\t});\r\n}\r\n\r\nfunction fetchWeatherByName(name) {\r\n\treturn fetch(\r\n\t\t`https://api.weatherapi.com/v1/current.json?key=${USER_KEY} &q=${name}`\r\n\t).then(res => {\r\n\t\tif (res.ok) {\r\n\t\t\treturn res.json();\r\n\t\t}\r\n\t\treturn Promise.reject(new Error('City not found'));\r\n\t});\r\n}\r\n\r\nexport const weather = {\r\n\tfetchWeatherByLocation,\r\n\tfetchWeatherByName,\r\n};\r\n","// import { useEffect, useState } from 'react';\r\n// import { weather } from '../../sourse/weather-API';\r\nimport './location-cords.css';\r\n\r\nexport function LocationCords({ location }) {\r\n\treturn (\r\n\t\t<div className='cords'>\r\n\t\t\t<ul className='location'>\r\n\t\t\t\t<li className='locationItem'>{location.latitude}</li>\r\n\t\t\t\t<li className='locationItem'>{location.longitude}</li>\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t);\r\n}\r\n","export default function Content({ weatherCity, status, error }) {\r\n\tconsole.dir(error?.message);\r\n\tif (status === 'rejected') {\r\n\t\treturn <h2>{error.message}</h2>;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{weatherCity && (\r\n\t\t\t\t<div className='card mb-10 w-25'>\r\n\t\t\t\t\t<div className='row g-0'>\r\n\t\t\t\t\t\t<div className='col-md-3 pr-0'>\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tsrc={`http:${weatherCity?.current?.condition?.icon}`}\r\n\t\t\t\t\t\t\t\tclassName='img-fluid rounded-center w-100'\r\n\t\t\t\t\t\t\t\talt='broken'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='col-md-9'>\r\n\t\t\t\t\t\t\t<div className='card-body pl-0'>\r\n\t\t\t\t\t\t\t\t<div className='d-flex'>\r\n\t\t\t\t\t\t\t\t\t<h5 className='card-title mr-2'>\r\n\t\t\t\t\t\t\t\t\t\t{weatherCity?.location?.name}\r\n\t\t\t\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t\t\t\t\t<p className='card-text '>\r\n\t\t\t\t\t\t\t\t\t\t{weatherCity?.current?.condition?.text}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<p className='card-text'>\r\n\t\t\t\t\t\t\t\t\t{weatherCity?.current?.temp_c}\r\n\t\t\t\t\t\t\t\t\t{`\\u00B0`}C feelslike\r\n\t\t\t\t\t\t\t\t\t{weatherCity?.current?.feelslike_c}\r\n\t\t\t\t\t\t\t\t\t{`\\u00B0`}C, wind {weatherCity?.current?.wind_kph}km/h\r\n\t\t\t\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t\t\t\t<p className='card-text'>\r\n\t\t\t\t\t\t\t\t\t<small className='text-muted'>\r\n\t\t\t\t\t\t\t\t\t\tGeo coords: lat: {weatherCity?.location?.lat}, lon:\r\n\t\t\t\t\t\t\t\t\t\t{weatherCity?.location?.lon}\r\n\t\t\t\t\t\t\t\t\t</small>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n}\r\n","import { useState } from 'react';\r\nimport { weather } from '../../sourse/weather-API';\r\nimport Content from '../content/content';\r\n\r\nexport function SearchForm() {\r\n\tconst [value, setValue] = useState(' ');\r\n\tconst [weatherCity, setWeatherCity] = useState(null);\r\n\tconst [status, setStatus] = useState('idle');\r\n\tconst [error, setError] = useState(null);\r\n\r\n\tconst handleChange = e => {\r\n\t\tsetValue(e.target.value);\r\n\t};\r\n\r\n\tconst handleSubmit = e => {\r\n\t\te.preventDefault();\r\n\t\tsetStatus('pending');\r\n\t\tweather\r\n\t\t\t.fetchWeatherByName(value)\r\n\t\t\t.then(weather => {\r\n\t\t\t\tsetWeatherCity(weather);\r\n\t\t\t\tsetStatus('resolved');\r\n\t\t\t})\r\n\t\t\t.catch(error => {\r\n\t\t\t\tsetStatus('rejected');\r\n\t\t\t\tsetError(error);\r\n\t\t\t});\r\n\t\tsetValue(' ');\r\n\t};\r\n\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<form className='search-form' onSubmit={handleSubmit}>\r\n\t\t\t\t<div className='form-row align-items-center'>\r\n\t\t\t\t\t<div className='col-sm-3 my-1'>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\tvalue={value}\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\tid='inlineFormInputName'\r\n\t\t\t\t\t\t\tplaceholder='Location'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='col-auto my-1'>\r\n\t\t\t\t\t\t<button type='submit' className='btn btn-primary'>\r\n\t\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t\t{weatherCity && (\r\n\t\t\t\t<Content weatherCity={weatherCity} status={status} error={error} />\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n}\r\n","const colors = {\r\n\tcold: '00ffff',\r\n\twarm: 'fff700',\r\n\thot: 'ff8c00',\r\n};\r\n\r\nexport default colors;\r\n// #00ffff for -10 degrees and below\r\n// #fff700 for +10 degrees\r\n// #ff8c00 for +30 degrees and above\r\n","import colors from '../../cummon/bg-color';\r\n\r\nexport default function bodyColor(weatherByLocatiion) {\r\n\t// weatherByLocatiion?.temp_c;\r\n\tconst temp = weatherByLocatiion?.temp_c;\r\n\r\n\tif (temp <= -10) {\r\n\t\tconst colorNow = hexColorToInt(colors.cold);\r\n\t\treturn intColorToHex(colorNow);\r\n\t} else if (temp > -10 && temp < 0) {\r\n\t\tconst colorNow = hexColorToInt(colors.cold) + Number(temp * 10);\r\n\t\tconsole.log(colorNow);\r\n\t\treturn intColorToHex(colorNow);\r\n\t} else if (temp > 0 && temp <= 10) {\r\n\t\tconst colorNow = hexColorToInt(colors.warm) - Number((10 - temp) * 10);\r\n\t\tconsole.log(colorNow);\r\n\t\treturn intColorToHex(colorNow);\r\n\t} else if (temp > 10 && temp < 56) {\r\n\t\tconst colorNow = hexColorToInt(colors.hot) + Number(temp + 200);\r\n\t\tconsole.log(colorNow);\r\n\t\treturn intColorToHex(colorNow);\r\n\t} else if (temp > 56) {\r\n\t\tconst colorNow = hexColorToInt(colors.hot) + 100255;\r\n\t\tconsole.log(colorNow);\r\n\t\treturn intColorToHex(colorNow);\r\n\t}\r\n}\r\n\r\nconst intColorToHex = int => {\r\n\tconst bbggrr = ('000000' + int.toString(16)).slice(-6);\r\n\tconst rrggbb =\r\n\t\tbbggrr.substr(4, 2) + bbggrr.substr(2, 2) + bbggrr.substr(0, 2);\r\n\treturn '#' + rrggbb;\r\n};\r\n\r\nconst hexColorToInt = rrggbb => {\r\n\tconst bbggrr =\r\n\t\trrggbb.substr(4, 2) + rrggbb.substr(2, 2) + rrggbb.substr(0, 2);\r\n\treturn parseInt(bbggrr, 16);\r\n};\r\n","import { useState, useEffect } from 'react';\nimport { weather } from './sourse/weather-API';\nimport './App.css';\nimport { LocationCords } from './components/location-cords/location-cords';\nimport { SearchForm } from './components/search-form/search-form';\nimport bodyColor from './functions/bodyColor/bodyColor';\n\nfunction App() {\n\tconst [location, setLocation] = useState({});\n\tconst [weatherByLocatiion, setWeatherByLocatiion] = useState(null);\n\n\tuseEffect(() => {\n\t\tnavigator.geolocation.getCurrentPosition(success, error);\n\t}, []);\n\n\tuseEffect(() => {\n\t\tdocument.body.style.backgroundColor = bodyColor(weatherByLocatiion);\n\t}, [weatherByLocatiion]);\n\n\tfunction success(pos) {\n\t\tconst { latitude, longitude } = pos.coords;\n\t\tweather\n\t\t\t.fetchWeatherByLocation({ latitude, longitude })\n\t\t\t.then(weather => setWeatherByLocatiion(weather.current));\n\t\tsetLocation({ latitude, longitude });\n\t\tlocalStorage.setItem('location', JSON.stringify(pos.coords));\n\t}\n\n\tfunction error(err) {\n\t\tconsole.warn(`ERROR(${err.code}): ${err.message}`);\n\t}\n\n\treturn (\n\t\t<div className='cantainer'>\n\t\t\t<div className='position-absolute top-50 start-50 translate-middle'>\n\t\t\t\t<img\n\t\t\t\t\tsrc={`http:${weatherByLocatiion?.condition?.icon}`}\n\t\t\t\t\tclassName=' w-100'\n\t\t\t\t\talt='broken'\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<LocationCords location={location} />\n\t\t\t<SearchForm />\n\t\t</div>\n\t);\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n"],"sourceRoot":""}