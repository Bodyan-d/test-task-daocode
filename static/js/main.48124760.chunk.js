(this["webpackJsonptest-task-daocode"]=this["webpackJsonptest-task-daocode"]||[]).push([[0],[,,,,,,,,,function(e,t,c){},function(e,t,c){},,function(e,t,c){},function(e,t,c){"use strict";c.r(t);var n=c(1),o=c.n(n),r=c(4),i=c.n(r),a=c(2),l="0a673b566c674ddcb7d195141211510";var s={fetchWeatherByLocation:function(e){return fetch("http://api.weatherapi.com/v1/current.json?key=".concat(l," &q=","".concat(e.latitude,",").concat(e.longitude))).then((function(e){return e.ok?e.json():Promise.reject(new Error("Location not found"))}))},fetchWeatherByName:function(e){return fetch("http://api.weatherapi.com/v1/current.json?key=".concat(l," &q=").concat(e)).then((function(e){return e.ok?e.json():Promise.reject(new Error("City not found"))}))}},d=(c(9),c(10),c(0));function u(e){var t=e.location;return Object(d.jsx)("div",{className:"cords",children:Object(d.jsxs)("ul",{className:"location",children:[Object(d.jsx)("li",{className:"locationItem",children:t.latitude}),Object(d.jsx)("li",{className:"locationItem",children:t.longitude})]})})}function j(e){var t,c,n,o,r,i,a,l,s,u,j=e.weatherCity,m=e.status,b=e.error;return console.dir(null===b||void 0===b?void 0:b.message),"rejected"===m?Object(d.jsx)("h2",{children:b.message}):Object(d.jsx)(d.Fragment,{children:j&&Object(d.jsx)("div",{className:"card mb-10 w-25",children:Object(d.jsxs)("div",{className:"row g-0",children:[Object(d.jsx)("div",{className:"col-md-3 pr-0",children:Object(d.jsx)("img",{src:"http:".concat(null===j||void 0===j||null===(t=j.current)||void 0===t||null===(c=t.condition)||void 0===c?void 0:c.icon),className:"img-fluid rounded-center w-100",alt:"broken"})}),Object(d.jsx)("div",{className:"col-md-9",children:Object(d.jsxs)("div",{className:"card-body pl-0",children:[Object(d.jsxs)("div",{className:"d-flex",children:[Object(d.jsx)("h5",{className:"card-title mr-2",children:null===j||void 0===j||null===(n=j.location)||void 0===n?void 0:n.name}),Object(d.jsx)("p",{className:"card-text ",children:null===j||void 0===j||null===(o=j.current)||void 0===o||null===(r=o.condition)||void 0===r?void 0:r.text})]}),Object(d.jsxs)("p",{className:"card-text",children:[null===j||void 0===j||null===(i=j.current)||void 0===i?void 0:i.temp_c,"\xb0","C feelslike",null===j||void 0===j||null===(a=j.current)||void 0===a?void 0:a.feelslike_c,"\xb0","C, wind ",null===j||void 0===j||null===(l=j.current)||void 0===l?void 0:l.wind_kph,"km/h"]}),Object(d.jsx)("p",{className:"card-text",children:Object(d.jsxs)("small",{className:"text-muted",children:["Geo coords: lat: ",null===j||void 0===j||null===(s=j.location)||void 0===s?void 0:s.lat,", lon:",null===j||void 0===j||null===(u=j.location)||void 0===u?void 0:u.lon]})})]})})]})})})}function m(){var e=Object(n.useState)(" "),t=Object(a.a)(e,2),c=t[0],o=t[1],r=Object(n.useState)(null),i=Object(a.a)(r,2),l=i[0],u=i[1],m=Object(n.useState)("idle"),b=Object(a.a)(m,2),v=b[0],h=b[1],f=Object(n.useState)(null),O=Object(a.a)(f,2),x=O[0],p=O[1];return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("form",{className:"search-form",onSubmit:function(e){e.preventDefault(),h("pending"),s.fetchWeatherByName(c).then((function(e){u(e),h("resolved")})).catch((function(e){h("rejected"),p(e)})),o(" ")},children:Object(d.jsxs)("div",{className:"form-row align-items-center",children:[Object(d.jsx)("div",{className:"col-sm-3 my-1",children:Object(d.jsx)("input",{onChange:function(e){o(e.target.value)},value:c,type:"text",className:"form-control",id:"inlineFormInputName",placeholder:"Location"})}),Object(d.jsx)("div",{className:"col-auto my-1",children:Object(d.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})})]})}),l&&Object(d.jsx)(j,{weatherCity:l,status:v,error:x})]})}var b={cold:"00ffff",warm:"fff700",hot:"ff8c00"};var v=function(e){var t=("000000"+e.toString(16)).slice(-6);return"#"+(t.substr(4,2)+t.substr(2,2)+t.substr(0,2))},h=function(e){var t=e.substr(4,2)+e.substr(2,2)+e.substr(0,2);return parseInt(t,16)};var f=function(){var e,t=Object(n.useState)({}),c=Object(a.a)(t,2),o=c[0],r=c[1],i=Object(n.useState)(null),l=Object(a.a)(i,2),j=l[0],f=l[1];function O(e){var t=e.coords,c=t.latitude,n=t.longitude;s.fetchWeatherByLocation({latitude:c,longitude:n}).then((function(e){return f(e.current)})),r({latitude:c,longitude:n}),localStorage.setItem("location",JSON.stringify(e.coords))}function x(e){console.warn("ERROR(".concat(e.code,"): ").concat(e.message))}return Object(n.useEffect)((function(){navigator.geolocation.getCurrentPosition(O,x)}),[]),Object(n.useEffect)((function(){document.body.style.backgroundColor=function(e){var t=null===e||void 0===e?void 0:e.temp_c;if(t<=-10){var c=h(b.cold);return v(c)}if(t>-10&&t<0){var n=h(b.cold)+Number(10*t);return console.log(n),v(n)}if(t>0&&t<=10){var o=h(b.warm)-Number(10*(10-t));return console.log(o),v(o)}if(t>10&&t<56){var r=h(b.hot)+Number(t+200);return console.log(r),v(r)}if(t>56){var i=h(b.hot)+100255;return console.log(i),v(i)}}(j)}),[j]),Object(d.jsxs)("div",{className:"cantainer",children:[Object(d.jsx)("div",{className:"position-absolute top-50 start-50 translate-middle",children:Object(d.jsx)("img",{src:"http:".concat(null===j||void 0===j||null===(e=j.condition)||void 0===e?void 0:e.icon),className:" w-100",alt:"broken"})}),Object(d.jsx)(u,{location:o}),Object(d.jsx)(m,{})]})};c(12);i.a.render(Object(d.jsx)(o.a.StrictMode,{children:Object(d.jsx)(f,{})}),document.getElementById("root"))}],[[13,1,2]]]);
//# sourceMappingURL=main.48124760.chunk.js.map